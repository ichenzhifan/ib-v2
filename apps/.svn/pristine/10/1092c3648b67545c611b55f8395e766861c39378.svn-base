import React, { Component, PropTypes } from 'react';
import SortAndFilter from '../SortAndFilter';
import ImageItem from '../ImageItem';
import XDrag from '../../../../common/ZNOComponents/XDrag';
import './index.scss';

class ImageList extends Component{
  constructor(props){
    super(props)
  }

  onDragStarted(imageObj,event) {
    const { encImgId, width, height } = imageObj;
    event.dataTransfer.setData("drag",JSON.stringify({encImgId,width,height}));
  }

  render(){

    const { uploadedImages, boundUploadedImagesActions } = this.props;

    return(
      <div className="image-list">
        <SortAndFilter uploadedImages={uploadedImages} boundUploadedImagesActions={ boundUploadedImagesActions }></SortAndFilter>

        <div className="image-items">
        {
          uploadedImages
          ? uploadedImages.map((imageObj, index) => {
            return (
              <div key={index}>
                <XDrag onDragStarted={ this.onDragStarted.bind(this,imageObj) }>
                  <ImageItem imageObj={imageObj} />
                </XDrag>
              </div>
            )
          })
          : null
        }
        </div>
      </div>
      );
  }
}

ImageList.propTypes = {

};

export default ImageList;

import React, { Component } from 'react';
import { connect } from 'react-redux';
import { bindActionCreators } from 'redux';
import * as specActions from '../../actions/specActions';
import * as projectActions from '../../actions/projectActions';

import MainContainer from '../../components/MainContainer';

import 'normalize.css';
import './index.scss';

import PageHeader from '../../components/PageHeader';
import SideBar from '../../components/SideBar';
import WorkSpace from '../../components/WorkSpace';

class App extends Component {
  render() {
    // Injected by connect() call:
    const { boundSpecActions, boundProjectActions } = this.props;

    return (
      <MainContainer
        className="app"
        boundSpecActions={boundSpecActions}
        boundProjectActions={boundProjectActions}
      >
        <PageHeader />
        <SideBar />
        <WorkSpace />
      </MainContainer>
    );
  }
}

// 包装 component ，注入 dispatch 和 state 到其默认的 connect(select)(App) 中；
const mapStateToProps = state => ({
  state
});

const mapDispatchToProps = dispatch => ({
  boundSpecActions: bindActionCreators(specActions, dispatch),
  boundProjectActions: bindActionCreators(projectActions, dispatch)
});

export default connect(mapStateToProps, mapDispatchToProps)(App);
